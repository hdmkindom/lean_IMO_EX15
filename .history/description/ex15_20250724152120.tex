\documentclass[a4paper]{article}
\usepackage[UTF8]{ctex}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage[margin=2.5cm]{geometry}  % 缩小边距

\begin{document}

\section*{IMO 2009; B1 EX15}
    \textbf{Problem:}
    Let $n$ be a positive integer and let $a_1,\ldots,a_k$ $(k \geq 2)$ be distinct integers in the set $\{1,\ldots,n\}$ such that 
    \[n \mid a_i(a_{i+1}-1) \quad \text{for } i = 1,\ldots,k-1.\]
    Prove that 
    \[n \nmid a_k(a_1-1).\]

    \[ \]
    设 $n$ 是一个正整数，$a_1, \ldots, a_k$ $(k \geq 2)$ 是集合 $\{1, \ldots, n\}$ 中的互不相同的整数，满足
    $n \mid a_i(a_{i+1}-1)$，其中 $i = 1, \ldots, k-1$。证明：
    $n \nmid a_k(a_1-1)$。


\section*{Proof}
    \textbf{Proof:}

    反证法: 假设 $n \mid a_k(a_1-1)$。令 $n = pq$，其中 $p$ 和 $q$ 是互质正整数。

    \textbf{步骤 1：分析整除条件。}  
    根据条件 $n \mid a_i(a_{i+1}-1)$，我们有：
    $p \mid a_i$ 且 $q \mid a_{i+1}-1$，其中 $i = 1, \ldots, k-1$。
    由于 $q \mid a_2-1$，可得 $\gcd(q, a_2) = 1$，因此 $q \mid a_3-1$。通过归纳法，我们有：
    $q \mid a_i-1$，对于所有 $i = 2, \ldots, k$。

    \textbf{步骤 2：对 $a_1$ 的推论。}  
    由 $p \mid a_1$ 和 $q \mid a_1-1$，可得 $\gcd(p, q) = 1$。因此：
    $p \mid a_k$ 且 $q \mid a_k-1$。

    \textbf{步骤 3：矛盾。}  
    整数 $a_1, a_2, \ldots, a_k$ 是互不相同的，并且位于集合 $\{1, 2, \ldots, n\}$ 中。
    然而，条件 $p \mid a_i$ 和 $q \mid a_i-1$ 表明，在该范围内至多只有一个整数 $a_i$ 同时满足这两个条件。
    这与假设 $k \geq 2$ 矛盾。

    因此，我们的假设 $n \mid a_k(a_1-1)$ 是错误的。由此可得：
    $n \nmid a_k(a_1-1)$。

\section*{Lean Proof}

\end{document}